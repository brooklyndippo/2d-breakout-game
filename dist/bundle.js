(()=>{"use strict";class t{constructor(t=0,i=0,s="#f00",e=100,h=100){this.x=t,this.y=i,this.color=s,this.width=e,this.height=h}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}const i=class extends t{constructor(t,i,s,e=75,h=20){super(t,i,s,e,h),this.status=!0}},s=document.getElementById("myCanvas"),e=s.getContext("2d"),h=s.width/2,o=s.height-30,r=new class{constructor(t,i,s,e,h,o){this.x=t,this.y=i,this.dx=s,this.dy=e,this.radius=h,this.color=o}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}move(){this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>480-this.radius||this.x+this.dx<this.radius)&&(this.dx=-this.dx),this.y+this.dy<this.radius&&(this.dy=-this.dy)}}(h,o,2,-2,10,"coral"),c=(s.width-75)/2,d=s.height-10,l=new class extends t{constructor(t,i,s,e=75,h=10){super(t,i,s,e,h)}}(c,d,"#006666",75,10);let n=!1,a=!1;const u=[];!function(){for(let t=0;t<5;t+=1){u[t]=[];for(let s=0;s<3;s+=1){const e=85*t+30,h=30*s+30;u[t][s]=new i(e,h,(s+t)%2?"#006666":"cadetblue",75,20)}}}();const y=new class{constructor(t,i,s="Arial",e="black",h=0){this.x=t,this.y=i,this.font=s,this.color=e,this.score=h}render(t){t.font=`15px ${this.font}`,t.fillStyle=this.color,t.fillText(`Score: ${this.score}`,this.x,this.y)}addPoint(){this.score+=1}reset(){this.score=0}}(8,20),x=new class{constructor(t,i,s="Arial",e="black",h=3){this.x=t,this.y=i,this.font=s,this.color=e,this.lives=h}render(t){t.font=`15px ${this.font}`,t.fillStyle=this.color,t.fillText(`Lives: ${this.lives}`,this.x,this.y)}subtractLife(){this.lives-=1}reset(){this.lives=3}}(s.width-60,20),f=new class{constructor(t,i,s,e,h){this.color1=t,this.color2=i,this.color3=s,this.height=e,this.width=h}paintBackground(t){const i=t.createLinearGradient(0,0,0,this.height);i.addColorStop(0,this.color1),i.addColorStop(.2,this.color2),i.addColorStop(1,this.color3),t.beginPath(),t.rect(0,0,this.width,this.height),t.fillStyle=i,t.fill(),t.closePath()}}("mediumturquoise","powderblue","papayawhip",s.height,s.width);new class{constructor(t,i,s,e,h,o,r,c,d){this.ball=t,this.paddle=i,this.bricks=s,this.score=e,this.lives=h,this.ctx=o,this.width=r,this.height=c,this.background=d}}(r,l,u,y,x,e,s.width,s.height,f),document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?n=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(a=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?n=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(a=!1)}),!1),document.addEventListener("mousemove",(function(t){const i=t.clientX-s.offsetLeft;i>0&&i<s.width&&(l.x=i-l.width/2)}),!1),function t(){e.clearRect(0,0,s.width,s.height),f.paintBackground(e),r.render(e),l.render(e),y.render(e),x.render(e);for(let t=0;t<5;t+=1)for(let i=0;i<3;i+=1)!0===u[t][i].status&&u[t][i].render(e);r.move(),function(){for(let t=0;t<5;t+=1)for(let i=0;i<3;i+=1){const s=u[t][i];!0===s.status&&r.x>s.x&&r.x<s.x+75&&r.y>s.y&&r.y<s.y+20&&(r.dy=-r.dy,s.status=!1,y.addPoint(),15===y.score&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),r.y+r.dy>s.height-r.radius&&(r.x>l.x&&r.x<l.x+l.width?r.dy=-r.dy:(x.subtractLife(),0===x.lives?(alert("GAME OVER"),document.location.reload()):(r.x=s.width/2,r.y=s.height-30,r.dx=2,r.dy=-2,l.x=c))),n?l.x=Math.min(l.x+7,s.width-l.width):a&&(l.x=Math.max(l.x-7,0)),requestAnimationFrame(t)}()})();